angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(r,e){return function(i){if(!(i&&(angular.isArray(i.files)||angular.isString(i.prefix)&&angular.isString(i.suffix))))throw Error("Couldn't load static files: no files or prefix and suffix specified!");i.files||(i.files=[{prefix:i.prefix,suffix:i.suffix}]);for(var f=function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw Error("Couldn't load static file: no prefix or suffix specified!");var f=r.defer();return e(angular.extend({url:[i.prefix,i.key,i.suffix].join(""),method:"GET",params:""},i.$http)).success(function(r){f.resolve(r)}).error(function(){f.reject(i.key)}),f.promise},n=r.defer(),t=[],s=i.files.length,a=0;s>a;a++)t.push(f({prefix:i.files[a].prefix,key:i.key,suffix:i.files[a].suffix}));return r.all(t).then(function(r){for(var e=r.length,i={},f=0;e>f;f++)angular.forEach(r[f],function(r,e){i[e]=r});n.resolve(i)},function(r){n.reject(r)}),n.promise}}]);